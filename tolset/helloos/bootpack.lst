     1 00000000                                 [FORMAT "WCOFF"]
     2 00000000                                 [INSTRSET "i486p"]
     3 00000000                                 [OPTIMIZE 1]
     4 00000000                                 [OPTION 1]
     5 00000000                                 [BITS 32]
     6 00000000                                 	EXTERN	_io_hlt
     7 00000000                                 	EXTERN	_hankaku
     8 00000000                                 	EXTERN	_io_load_eflags
     9 00000000                                 	EXTERN	_io_cli
    10 00000000                                 	EXTERN	_io_out8
    11 00000000                                 	EXTERN	_io_store_eflags
    12 00000000                                 	EXTERN	_load_gdtr
    13 00000000                                 	EXTERN	_load_idtr
    14 00000000                                 [FILE "bootpack.c"]
    15                                          [SECTION .data]
    16 00000000                                 LC0:
    17 00000000 41 42 43 20 31 32 33 00         	DB	"ABC 123",0x00
    18 00000008                                 LC1:
    19 00000008 57 69 6E 74 65 72 73 20 4C 75   	DB	"Winters Lu",0x00
       00000012 00 
    20                                          [SECTION .text]
    21 00000000                                 	GLOBAL	_HariMain
    22 00000000                                 _HariMain:
    23 00000000 55                              	PUSH	EBP
    24 00000001 89 E5                           	MOV	EBP,ESP
    25 00000003 57                              	PUSH	EDI
    26 00000004 56                              	PUSH	ESI
    27 00000005 53                              	PUSH	EBX
    28 00000006 8D 9D FFFFFEF4                  	LEA	EBX,DWORD [-268+EBP]
    29 0000000C 81 EC 00000100                  	SUB	ESP,256
    30 00000012 E8 00000529                     	CALL	_init_gdtidt
    31 00000017 E8 00000438                     	CALL	_init_palette
    32 0000001C 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
    33 00000023 52                              	PUSH	EDX
    34 00000024 0F BF 15 00000FF4               	MOVSX	EDX,WORD [4084]
    35 0000002B 52                              	PUSH	EDX
    36 0000002C FF 35 00000FF8                  	PUSH	DWORD [4088]
    37 00000032 E8 0000023D                     	CALL	_initialScreen
    38 00000037 68 [00000000]                   	PUSH	LC0
    39 0000003C 6A 07                           	PUSH	7
    40 0000003E 6A 08                           	PUSH	8
    41 00000040 6A 08                           	PUSH	8
    42 00000042 0F BF 15 00000FF4               	MOVSX	EDX,WORD [4084]
    43 00000049 52                              	PUSH	EDX
    44 0000004A FF 35 00000FF8                  	PUSH	DWORD [4088]
    45 00000050 E8 0000011D                     	CALL	_paintFonts8
    46 00000055 83 C4 24                        	ADD	ESP,36
    47 00000058 68 [00000008]                   	PUSH	LC1
    48 0000005D 6A 00                           	PUSH	0
    49 0000005F 6A 1F                           	PUSH	31
    50 00000061 6A 1F                           	PUSH	31
    51 00000063 0F BF 15 00000FF4               	MOVSX	EDX,WORD [4084]
    52 0000006A 52                              	PUSH	EDX
    53 0000006B FF 35 00000FF8                  	PUSH	DWORD [4088]
    54 00000071 E8 000000FC                     	CALL	_paintFonts8
    55 00000076 68 [00000008]                   	PUSH	LC1
    56 0000007B 6A 07                           	PUSH	7
    57 0000007D 6A 1E                           	PUSH	30
    58 0000007F 6A 1E                           	PUSH	30
    59 00000081 0F BF 15 00000FF4               	MOVSX	EDX,WORD [4084]
    60 00000088 52                              	PUSH	EDX
    61 00000089 FF 35 00000FF8                  	PUSH	DWORD [4088]
    62 0000008F E8 000000DE                     	CALL	_paintFonts8
    63 00000094 83 C4 30                        	ADD	ESP,48
    64 00000097 0F BF 05 00000FF4               	MOVSX	EAX,WORD [4084]
    65 0000009E B9 00000002                     	MOV	ECX,2
    66 000000A3 8D 50 F0                        	LEA	EDX,DWORD [-16+EAX]
    67 000000A6 89 D0                           	MOV	EAX,EDX
    68 000000A8 99                              	CDQ
    69 000000A9 F7 F9                           	IDIV	ECX
    70 000000AB 0F BF 15 00000FF6               	MOVSX	EDX,WORD [4086]
    71 000000B2 83 EA 2C                        	SUB	EDX,44
    72 000000B5 89 C7                           	MOV	EDI,EAX
    73 000000B7 89 D0                           	MOV	EAX,EDX
    74 000000B9 6A 0E                           	PUSH	14
    75 000000BB 99                              	CDQ
    76 000000BC F7 F9                           	IDIV	ECX
    77 000000BE 53                              	PUSH	EBX
    78 000000BF 89 C6                           	MOV	ESI,EAX
    79 000000C1 E8 000000FB                     	CALL	_initMouseCursor8
    80 000000C6 6A 10                           	PUSH	16
    81 000000C8 53                              	PUSH	EBX
    82 000000C9 56                              	PUSH	ESI
    83 000000CA 57                              	PUSH	EDI
    84 000000CB 6A 10                           	PUSH	16
    85 000000CD 6A 10                           	PUSH	16
    86 000000CF 0F BF 15 00000FF4               	MOVSX	EDX,WORD [4084]
    87 000000D6 52                              	PUSH	EDX
    88 000000D7 FF 35 00000FF8                  	PUSH	DWORD [4088]
    89 000000DD E8 0000013C                     	CALL	_putBlock8
    90 000000E2 83 C4 28                        	ADD	ESP,40
    91 000000E5                                 L2:
    92 000000E5 E8 [00000000]                   	CALL	_io_hlt
    93 000000EA EB F9                           	JMP	L2
    94 000000EC                                 	GLOBAL	_paintFont8
    95 000000EC                                 _paintFont8:
    96 000000EC 55                              	PUSH	EBP
    97 000000ED 89 E5                           	MOV	EBP,ESP
    98 000000EF 57                              	PUSH	EDI
    99 000000F0 56                              	PUSH	ESI
   100 000000F1 31 F6                           	XOR	ESI,ESI
   101 000000F3 53                              	PUSH	EBX
   102 000000F4 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   103 000000F7 8A 5D 18                        	MOV	BL,BYTE [24+EBP]
   104 000000FA                                 L18:
   105 000000FA 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   106 000000FD 8B 55 10                        	MOV	EDX,DWORD [16+EBP]
   107 00000100 01 F0                           	ADD	EAX,ESI
   108 00000102 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   109 00000106 03 45 08                        	ADD	EAX,DWORD [8+EBP]
   110 00000109 8D 0C 02                        	LEA	ECX,DWORD [EDX+EAX*1]
   111 0000010C 8A 14 3E                        	MOV	DL,BYTE [ESI+EDI*1]
   112 0000010F 84 D2                           	TEST	DL,DL
   113 00000111 79 02                           	JNS	L10
   114 00000113 88 19                           	MOV	BYTE [ECX],BL
   115 00000115                                 L10:
   116 00000115 88 D0                           	MOV	AL,DL
   117 00000117 83 E0 40                        	AND	EAX,64
   118 0000011A 84 C0                           	TEST	AL,AL
   119 0000011C 74 03                           	JE	L11
   120 0000011E 88 59 01                        	MOV	BYTE [1+ECX],BL
   121 00000121                                 L11:
   122 00000121 88 D0                           	MOV	AL,DL
   123 00000123 83 E0 20                        	AND	EAX,32
   124 00000126 84 C0                           	TEST	AL,AL
   125 00000128 74 03                           	JE	L12
   126 0000012A 88 59 02                        	MOV	BYTE [2+ECX],BL
   127 0000012D                                 L12:
   128 0000012D 88 D0                           	MOV	AL,DL
   129 0000012F 83 E0 10                        	AND	EAX,16
   130 00000132 84 C0                           	TEST	AL,AL
   131 00000134 74 03                           	JE	L13
   132 00000136 88 59 03                        	MOV	BYTE [3+ECX],BL
   133 00000139                                 L13:
   134 00000139 88 D0                           	MOV	AL,DL
   135 0000013B 83 E0 08                        	AND	EAX,8
   136 0000013E 84 C0                           	TEST	AL,AL
   137 00000140 74 03                           	JE	L14
   138 00000142 88 59 04                        	MOV	BYTE [4+ECX],BL
   139 00000145                                 L14:
   140 00000145 88 D0                           	MOV	AL,DL
   141 00000147 83 E0 04                        	AND	EAX,4
   142 0000014A 84 C0                           	TEST	AL,AL
   143 0000014C 74 03                           	JE	L15
   144 0000014E 88 59 05                        	MOV	BYTE [5+ECX],BL
   145 00000151                                 L15:
   146 00000151 88 D0                           	MOV	AL,DL
   147 00000153 83 E0 02                        	AND	EAX,2
   148 00000156 84 C0                           	TEST	AL,AL
   149 00000158 74 03                           	JE	L16
   150 0000015A 88 59 06                        	MOV	BYTE [6+ECX],BL
   151 0000015D                                 L16:
   152 0000015D 83 E2 01                        	AND	EDX,1
   153 00000160 84 D2                           	TEST	DL,DL
   154 00000162 74 03                           	JE	L8
   155 00000164 88 59 07                        	MOV	BYTE [7+ECX],BL
   156 00000167                                 L8:
   157 00000167 46                              	INC	ESI
   158 00000168 83 FE 0F                        	CMP	ESI,15
   159 0000016B 7E 8D                           	JLE	L18
   160 0000016D 5B                              	POP	EBX
   161 0000016E 5E                              	POP	ESI
   162 0000016F 5F                              	POP	EDI
   163 00000170 5D                              	POP	EBP
   164 00000171 C3                              	RET
   165 00000172                                 	GLOBAL	_paintFonts8
   166 00000172                                 _paintFonts8:
   167 00000172 55                              	PUSH	EBP
   168 00000173 89 E5                           	MOV	EBP,ESP
   169 00000175 57                              	PUSH	EDI
   170 00000176 56                              	PUSH	ESI
   171 00000177 53                              	PUSH	EBX
   172 00000178 50                              	PUSH	EAX
   173 00000179 8B 5D 1C                        	MOV	EBX,DWORD [28+EBP]
   174 0000017C 8A 45 18                        	MOV	AL,BYTE [24+EBP]
   175 0000017F 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   176 00000182 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   177 00000185 8B 7D 14                        	MOV	EDI,DWORD [20+EBP]
   178 00000188 80 3B 00                        	CMP	BYTE [EBX],0
   179 0000018B 75 08                           	JNE	L26
   180 0000018D                                 L28:
   181 0000018D 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   182 00000190 5B                              	POP	EBX
   183 00000191 5E                              	POP	ESI
   184 00000192 5F                              	POP	EDI
   185 00000193 5D                              	POP	EBP
   186 00000194 C3                              	RET
   187 00000195                                 L26:
   188 00000195 0F B6 03                        	MOVZX	EAX,BYTE [EBX]
   189 00000198 C1 E0 04                        	SAL	EAX,4
   190 0000019B 43                              	INC	EBX
   191 0000019C 05 [00000000]                   	ADD	EAX,_hankaku
   192 000001A1 50                              	PUSH	EAX
   193 000001A2 0F BE 45 F3                     	MOVSX	EAX,BYTE [-13+EBP]
   194 000001A6 50                              	PUSH	EAX
   195 000001A7 57                              	PUSH	EDI
   196 000001A8 56                              	PUSH	ESI
   197 000001A9 83 C6 08                        	ADD	ESI,8
   198 000001AC FF 75 0C                        	PUSH	DWORD [12+EBP]
   199 000001AF FF 75 08                        	PUSH	DWORD [8+EBP]
   200 000001B2 E8 FFFFFF35                     	CALL	_paintFont8
   201 000001B7 83 C4 18                        	ADD	ESP,24
   202 000001BA 80 3B 00                        	CMP	BYTE [EBX],0
   203 000001BD 75 D6                           	JNE	L26
   204 000001BF EB CC                           	JMP	L28
   205                                          [SECTION .data]
   206 00000013                                 _cursor.0:
   207 00000013 2A 2A 2A 2A 2A 2A 2A 2A 2A 2A   	DB	"**************.."
       0000001D 2A 2A 2A 2A 2E 2E 
   208 00000023 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOOOO*..."
       0000002D 4F 4F 2A 2E 2E 2E 
   209 00000033 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOOO*...."
       0000003D 4F 2A 2E 2E 2E 2E 
   210 00000043 2A 4F 4F 4F 4F 4F 4F 4F 4F 4F   	DB	"*OOOOOOOOO*....."
       0000004D 2A 2E 2E 2E 2E 2E 
   211 00000053 2A 4F 4F 4F 4F 4F 4F 4F 4F 2A   	DB	"*OOOOOOOO*......"
       0000005D 2E 2E 2E 2E 2E 2E 
   212 00000063 2A 4F 4F 4F 4F 4F 4F 4F 2A 2E   	DB	"*OOOOOOO*......."
       0000006D 2E 2E 2E 2E 2E 2E 
   213 00000073 2A 4F 4F 4F 4F 4F 4F 4F 2A 2E   	DB	"*OOOOOOO*......."
       0000007D 2E 2E 2E 2E 2E 2E 
   214 00000083 2A 4F 4F 4F 4F 4F 4F 4F 4F 2A   	DB	"*OOOOOOOO*......"
       0000008D 2E 2E 2E 2E 2E 2E 
   215 00000093 2A 4F 4F 4F 4F 2A 2A 4F 4F 4F   	DB	"*OOOO**OOO*....."
       0000009D 2A 2E 2E 2E 2E 2E 
   216 000000A3 2A 4F 4F 4F 2A 2E 2E 2A 4F 4F   	DB	"*OOO*..*OOO*...."
       000000AD 4F 2A 2E 2E 2E 2E 
   217 000000B3 2A 4F 4F 2A 2E 2E 2E 2E 2A 4F   	DB	"*OO*....*OOO*..."
       000000BD 4F 4F 2A 2E 2E 2E 
   218 000000C3 2A 4F 2A 2E 2E 2E 2E 2E 2E 2A   	DB	"*O*......*OOO*.."
       000000CD 4F 4F 4F 2A 2E 2E 
   219 000000D3 2A 2A 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"**........*OOO*."
       000000DD 2A 4F 4F 4F 2A 2E 
   220 000000E3 2A 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"*..........*OOO*"
       000000ED 2E 2A 4F 4F 4F 2A 
   221 000000F3 2E 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	"............*OO*"
       000000FD 2E 2E 2A 4F 4F 2A 
   222 00000103 2E 2E 2E 2E 2E 2E 2E 2E 2E 2E   	DB	".............***"
       0000010D 2E 2E 2E 2A 2A 2A 
   223                                          [SECTION .text]
   224 000001C1                                 	GLOBAL	_initMouseCursor8
   225 000001C1                                 _initMouseCursor8:
   226 000001C1 55                              	PUSH	EBP
   227 000001C2 89 E5                           	MOV	EBP,ESP
   228 000001C4 57                              	PUSH	EDI
   229 000001C5 56                              	PUSH	ESI
   230 000001C6 31 FF                           	XOR	EDI,EDI
   231 000001C8 53                              	PUSH	EBX
   232 000001C9 31 DB                           	XOR	EBX,EBX
   233 000001CB 51                              	PUSH	ECX
   234 000001CC 8A 45 0C                        	MOV	AL,BYTE [12+EBP]
   235 000001CF 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   236 000001D2 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   237 000001D5                                 L42:
   238 000001D5 31 D2                           	XOR	EDX,EDX
   239 000001D7                                 L41:
   240 000001D7 8D 04 3A                        	LEA	EAX,DWORD [EDX+EDI*1]
   241 000001DA 80 B8 [00000013] 2A             	CMP	BYTE [_cursor.0+EAX],42
   242 000001E1 74 35                           	JE	L47
   243 000001E3                                 L38:
   244 000001E3 80 B8 [00000013] 4F             	CMP	BYTE [_cursor.0+EAX],79
   245 000001EA 74 26                           	JE	L48
   246 000001EC                                 L39:
   247 000001EC 80 B8 [00000013] 2E             	CMP	BYTE [_cursor.0+EAX],46
   248 000001F3 74 15                           	JE	L49
   249 000001F5                                 L36:
   250 000001F5 42                              	INC	EDX
   251 000001F6 83 FA 0F                        	CMP	EDX,15
   252 000001F9 7E DC                           	JLE	L41
   253 000001FB 43                              	INC	EBX
   254 000001FC 83 C7 10                        	ADD	EDI,16
   255 000001FF 83 FB 0F                        	CMP	EBX,15
   256 00000202 7E D1                           	JLE	L42
   257 00000204 5A                              	POP	EDX
   258 00000205 5B                              	POP	EBX
   259 00000206 5E                              	POP	ESI
   260 00000207 5F                              	POP	EDI
   261 00000208 5D                              	POP	EBP
   262 00000209 C3                              	RET
   263 0000020A                                 L49:
   264 0000020A 8A 4D F3                        	MOV	CL,BYTE [-13+EBP]
   265 0000020D 88 0C 30                        	MOV	BYTE [EAX+ESI*1],CL
   266 00000210 EB E3                           	JMP	L36
   267 00000212                                 L48:
   268 00000212 C6 04 30 07                     	MOV	BYTE [EAX+ESI*1],7
   269 00000216 EB D4                           	JMP	L39
   270 00000218                                 L47:
   271 00000218 C6 04 30 00                     	MOV	BYTE [EAX+ESI*1],0
   272 0000021C EB C5                           	JMP	L38
   273 0000021E                                 	GLOBAL	_putBlock8
   274 0000021E                                 _putBlock8:
   275 0000021E 55                              	PUSH	EBP
   276 0000021F 89 E5                           	MOV	EBP,ESP
   277 00000221 57                              	PUSH	EDI
   278 00000222 56                              	PUSH	ESI
   279 00000223 31 F6                           	XOR	ESI,ESI
   280 00000225 53                              	PUSH	EBX
   281 00000226 83 EC 0C                        	SUB	ESP,12
   282 00000229 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   283 0000022C 7D 3E                           	JGE	L62
   284 0000022E 31 FF                           	XOR	EDI,EDI
   285 00000230                                 L60:
   286 00000230 31 DB                           	XOR	EBX,EBX
   287 00000232 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   288 00000235 7D 2C                           	JGE	L64
   289 00000237 8B 45 20                        	MOV	EAX,DWORD [32+EBP]
   290 0000023A 01 F8                           	ADD	EAX,EDI
   291 0000023C 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   292 0000023F                                 L59:
   293 0000023F 8B 45 1C                        	MOV	EAX,DWORD [28+EBP]
   294 00000242 8B 55 18                        	MOV	EDX,DWORD [24+EBP]
   295 00000245 01 F0                           	ADD	EAX,ESI
   296 00000247 01 DA                           	ADD	EDX,EBX
   297 00000249 0F AF 45 0C                     	IMUL	EAX,DWORD [12+EBP]
   298 0000024D 01 D0                           	ADD	EAX,EDX
   299 0000024F 8B 4D 08                        	MOV	ECX,DWORD [8+EBP]
   300 00000252 8B 55 EC                        	MOV	EDX,DWORD [-20+EBP]
   301 00000255 43                              	INC	EBX
   302 00000256 8A 12                           	MOV	DL,BYTE [EDX]
   303 00000258 88 14 08                        	MOV	BYTE [EAX+ECX*1],DL
   304 0000025B FF 45 EC                        	INC	DWORD [-20+EBP]
   305 0000025E 3B 5D 10                        	CMP	EBX,DWORD [16+EBP]
   306 00000261 7C DC                           	JL	L59
   307 00000263                                 L64:
   308 00000263 46                              	INC	ESI
   309 00000264 03 7D 24                        	ADD	EDI,DWORD [36+EBP]
   310 00000267 3B 75 14                        	CMP	ESI,DWORD [20+EBP]
   311 0000026A 7C C4                           	JL	L60
   312 0000026C                                 L62:
   313 0000026C 83 C4 0C                        	ADD	ESP,12
   314 0000026F 5B                              	POP	EBX
   315 00000270 5E                              	POP	ESI
   316 00000271 5F                              	POP	EDI
   317 00000272 5D                              	POP	EBP
   318 00000273 C3                              	RET
   319 00000274                                 	GLOBAL	_initialScreen
   320 00000274                                 _initialScreen:
   321 00000274 55                              	PUSH	EBP
   322 00000275 89 E5                           	MOV	EBP,ESP
   323 00000277 57                              	PUSH	EDI
   324 00000278 56                              	PUSH	ESI
   325 00000279 53                              	PUSH	EBX
   326 0000027A 83 EC 10                        	SUB	ESP,16
   327 0000027D 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   328 00000280 8B 75 0C                        	MOV	ESI,DWORD [12+EBP]
   329 00000283 48                              	DEC	EAX
   330 00000284 4E                              	DEC	ESI
   331 00000285 50                              	PUSH	EAX
   332 00000286 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   333 00000289 56                              	PUSH	ESI
   334 0000028A 6A 00                           	PUSH	0
   335 0000028C 6A 00                           	PUSH	0
   336 0000028E 6A 0E                           	PUSH	14
   337 00000290 FF 75 0C                        	PUSH	DWORD [12+EBP]
   338 00000293 FF 75 08                        	PUSH	DWORD [8+EBP]
   339 00000296 E8 00000254                     	CALL	_boxfill8
   340 0000029B 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   341 0000029E 83 E8 1C                        	SUB	EAX,28
   342 000002A1 50                              	PUSH	EAX
   343 000002A2 56                              	PUSH	ESI
   344 000002A3 50                              	PUSH	EAX
   345 000002A4 6A 00                           	PUSH	0
   346 000002A6 6A 08                           	PUSH	8
   347 000002A8 FF 75 0C                        	PUSH	DWORD [12+EBP]
   348 000002AB FF 75 08                        	PUSH	DWORD [8+EBP]
   349 000002AE E8 0000023C                     	CALL	_boxfill8
   350 000002B3 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   351 000002B6 83 C4 38                        	ADD	ESP,56
   352 000002B9 83 E8 1B                        	SUB	EAX,27
   353 000002BC 50                              	PUSH	EAX
   354 000002BD 56                              	PUSH	ESI
   355 000002BE 50                              	PUSH	EAX
   356 000002BF 6A 00                           	PUSH	0
   357 000002C1 6A 07                           	PUSH	7
   358 000002C3 FF 75 0C                        	PUSH	DWORD [12+EBP]
   359 000002C6 FF 75 08                        	PUSH	DWORD [8+EBP]
   360 000002C9 E8 00000221                     	CALL	_boxfill8
   361 000002CE 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   362 000002D1 FF 75 F0                        	PUSH	DWORD [-16+EBP]
   363 000002D4 56                              	PUSH	ESI
   364 000002D5 83 E8 1A                        	SUB	EAX,26
   365 000002D8 50                              	PUSH	EAX
   366 000002D9 6A 00                           	PUSH	0
   367 000002DB 6A 08                           	PUSH	8
   368 000002DD FF 75 0C                        	PUSH	DWORD [12+EBP]
   369 000002E0 FF 75 08                        	PUSH	DWORD [8+EBP]
   370 000002E3 E8 00000207                     	CALL	_boxfill8
   371 000002E8 8B 7D 10                        	MOV	EDI,DWORD [16+EBP]
   372 000002EB 83 C4 38                        	ADD	ESP,56
   373 000002EE 83 EF 18                        	SUB	EDI,24
   374 000002F1 57                              	PUSH	EDI
   375 000002F2 6A 3B                           	PUSH	59
   376 000002F4 57                              	PUSH	EDI
   377 000002F5 6A 03                           	PUSH	3
   378 000002F7 6A 07                           	PUSH	7
   379 000002F9 FF 75 0C                        	PUSH	DWORD [12+EBP]
   380 000002FC FF 75 08                        	PUSH	DWORD [8+EBP]
   381 000002FF E8 000001EB                     	CALL	_boxfill8
   382 00000304 8B 5D 10                        	MOV	EBX,DWORD [16+EBP]
   383 00000307 83 EB 04                        	SUB	EBX,4
   384 0000030A 53                              	PUSH	EBX
   385 0000030B 6A 02                           	PUSH	2
   386 0000030D 57                              	PUSH	EDI
   387 0000030E 6A 02                           	PUSH	2
   388 00000310 6A 07                           	PUSH	7
   389 00000312 FF 75 0C                        	PUSH	DWORD [12+EBP]
   390 00000315 FF 75 08                        	PUSH	DWORD [8+EBP]
   391 00000318 E8 000001D2                     	CALL	_boxfill8
   392 0000031D 83 C4 38                        	ADD	ESP,56
   393 00000320 53                              	PUSH	EBX
   394 00000321 6A 3B                           	PUSH	59
   395 00000323 53                              	PUSH	EBX
   396 00000324 6A 03                           	PUSH	3
   397 00000326 6A 0F                           	PUSH	15
   398 00000328 FF 75 0C                        	PUSH	DWORD [12+EBP]
   399 0000032B FF 75 08                        	PUSH	DWORD [8+EBP]
   400 0000032E E8 000001BC                     	CALL	_boxfill8
   401 00000333 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   402 00000336 83 E8 05                        	SUB	EAX,5
   403 00000339 50                              	PUSH	EAX
   404 0000033A 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   405 0000033D 6A 3B                           	PUSH	59
   406 0000033F 83 E8 17                        	SUB	EAX,23
   407 00000342 50                              	PUSH	EAX
   408 00000343 89 45 EC                        	MOV	DWORD [-20+EBP],EAX
   409 00000346 6A 3B                           	PUSH	59
   410 00000348 6A 0F                           	PUSH	15
   411 0000034A FF 75 0C                        	PUSH	DWORD [12+EBP]
   412 0000034D FF 75 08                        	PUSH	DWORD [8+EBP]
   413 00000350 E8 0000019A                     	CALL	_boxfill8
   414 00000355 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   415 00000358 83 C4 38                        	ADD	ESP,56
   416 0000035B 83 E8 03                        	SUB	EAX,3
   417 0000035E 89 45 E8                        	MOV	DWORD [-24+EBP],EAX
   418 00000361 50                              	PUSH	EAX
   419 00000362 6A 3B                           	PUSH	59
   420 00000364 50                              	PUSH	EAX
   421 00000365 6A 02                           	PUSH	2
   422 00000367 6A 00                           	PUSH	0
   423 00000369 FF 75 0C                        	PUSH	DWORD [12+EBP]
   424 0000036C FF 75 08                        	PUSH	DWORD [8+EBP]
   425 0000036F E8 0000017B                     	CALL	_boxfill8
   426 00000374 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   427 00000377 6A 3C                           	PUSH	60
   428 00000379 57                              	PUSH	EDI
   429 0000037A 6A 3C                           	PUSH	60
   430 0000037C 6A 00                           	PUSH	0
   431 0000037E FF 75 0C                        	PUSH	DWORD [12+EBP]
   432 00000381 FF 75 08                        	PUSH	DWORD [8+EBP]
   433 00000384 E8 00000166                     	CALL	_boxfill8
   434 00000389 8B 75 0C                        	MOV	ESI,DWORD [12+EBP]
   435 0000038C 83 C4 38                        	ADD	ESP,56
   436 0000038F 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   437 00000392 83 E8 04                        	SUB	EAX,4
   438 00000395 83 EE 2F                        	SUB	ESI,47
   439 00000398 57                              	PUSH	EDI
   440 00000399 89 45 E4                        	MOV	DWORD [-28+EBP],EAX
   441 0000039C 50                              	PUSH	EAX
   442 0000039D 57                              	PUSH	EDI
   443 0000039E 56                              	PUSH	ESI
   444 0000039F 6A 0F                           	PUSH	15
   445 000003A1 FF 75 0C                        	PUSH	DWORD [12+EBP]
   446 000003A4 FF 75 08                        	PUSH	DWORD [8+EBP]
   447 000003A7 E8 00000143                     	CALL	_boxfill8
   448 000003AC 53                              	PUSH	EBX
   449 000003AD 56                              	PUSH	ESI
   450 000003AE FF 75 EC                        	PUSH	DWORD [-20+EBP]
   451 000003B1 56                              	PUSH	ESI
   452 000003B2 6A 0F                           	PUSH	15
   453 000003B4 FF 75 0C                        	PUSH	DWORD [12+EBP]
   454 000003B7 FF 75 08                        	PUSH	DWORD [8+EBP]
   455 000003BA E8 00000130                     	CALL	_boxfill8
   456 000003BF 83 C4 38                        	ADD	ESP,56
   457 000003C2 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   458 000003C5 FF 75 E4                        	PUSH	DWORD [-28+EBP]
   459 000003C8 FF 75 E8                        	PUSH	DWORD [-24+EBP]
   460 000003CB 56                              	PUSH	ESI
   461 000003CC 6A 07                           	PUSH	7
   462 000003CE FF 75 0C                        	PUSH	DWORD [12+EBP]
   463 000003D1 FF 75 08                        	PUSH	DWORD [8+EBP]
   464 000003D4 E8 00000116                     	CALL	_boxfill8
   465 000003D9 8B 45 0C                        	MOV	EAX,DWORD [12+EBP]
   466 000003DC FF 75 E8                        	PUSH	DWORD [-24+EBP]
   467 000003DF 83 E8 03                        	SUB	EAX,3
   468 000003E2 50                              	PUSH	EAX
   469 000003E3 57                              	PUSH	EDI
   470 000003E4 50                              	PUSH	EAX
   471 000003E5 6A 07                           	PUSH	7
   472 000003E7 FF 75 0C                        	PUSH	DWORD [12+EBP]
   473 000003EA FF 75 08                        	PUSH	DWORD [8+EBP]
   474 000003ED E8 000000FD                     	CALL	_boxfill8
   475 000003F2 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   476 000003F5 5B                              	POP	EBX
   477 000003F6 5E                              	POP	ESI
   478 000003F7 5F                              	POP	EDI
   479 000003F8 5D                              	POP	EBP
   480 000003F9 C3                              	RET
   481 000003FA                                 	GLOBAL	_colorBox
   482 000003FA                                 _colorBox:
   483 000003FA 55                              	PUSH	EBP
   484 000003FB 89 E5                           	MOV	EBP,ESP
   485 000003FD 53                              	PUSH	EBX
   486 000003FE 6A 78                           	PUSH	120
   487 00000400 6A 78                           	PUSH	120
   488 00000402 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   489 00000405 6A 14                           	PUSH	20
   490 00000407 6A 14                           	PUSH	20
   491 00000409 6A 01                           	PUSH	1
   492 0000040B 68 00000140                     	PUSH	320
   493 00000410 53                              	PUSH	EBX
   494 00000411 E8 000000D9                     	CALL	_boxfill8
   495 00000416 68 00000096                     	PUSH	150
   496 0000041B 68 000000AA                     	PUSH	170
   497 00000420 6A 32                           	PUSH	50
   498 00000422 6A 46                           	PUSH	70
   499 00000424 6A 02                           	PUSH	2
   500 00000426 68 00000140                     	PUSH	320
   501 0000042B 53                              	PUSH	EBX
   502 0000042C E8 000000BE                     	CALL	_boxfill8
   503 00000431 83 C4 38                        	ADD	ESP,56
   504 00000434 68 000000B4                     	PUSH	180
   505 00000439 68 000000DC                     	PUSH	220
   506 0000043E 6A 50                           	PUSH	80
   507 00000440 6A 78                           	PUSH	120
   508 00000442 6A 04                           	PUSH	4
   509 00000444 68 00000140                     	PUSH	320
   510 00000449 53                              	PUSH	EBX
   511 0000044A E8 000000A0                     	CALL	_boxfill8
   512 0000044F 8B 5D FC                        	MOV	EBX,DWORD [-4+EBP]
   513 00000452 C9                              	LEAVE
   514 00000453 C3                              	RET
   515                                          [SECTION .data]
   516 00000113                                 _table_rgb.1:
   517 00000113 00                              	DB	0
   518 00000114 00                              	DB	0
   519 00000115 00                              	DB	0
   520 00000116 FF                              	DB	-1
   521 00000117 00                              	DB	0
   522 00000118 00                              	DB	0
   523 00000119 00                              	DB	0
   524 0000011A FF                              	DB	-1
   525 0000011B 00                              	DB	0
   526 0000011C FF                              	DB	-1
   527 0000011D FF                              	DB	-1
   528 0000011E 00                              	DB	0
   529 0000011F 00                              	DB	0
   530 00000120 00                              	DB	0
   531 00000121 FF                              	DB	-1
   532 00000122 FF                              	DB	-1
   533 00000123 00                              	DB	0
   534 00000124 FF                              	DB	-1
   535 00000125 00                              	DB	0
   536 00000126 FF                              	DB	-1
   537 00000127 FF                              	DB	-1
   538 00000128 FF                              	DB	-1
   539 00000129 FF                              	DB	-1
   540 0000012A FF                              	DB	-1
   541 0000012B C6                              	DB	-58
   542 0000012C C6                              	DB	-58
   543 0000012D C6                              	DB	-58
   544 0000012E 84                              	DB	-124
   545 0000012F 00                              	DB	0
   546 00000130 00                              	DB	0
   547 00000131 00                              	DB	0
   548 00000132 84                              	DB	-124
   549 00000133 00                              	DB	0
   550 00000134 84                              	DB	-124
   551 00000135 84                              	DB	-124
   552 00000136 00                              	DB	0
   553 00000137 00                              	DB	0
   554 00000138 00                              	DB	0
   555 00000139 84                              	DB	-124
   556 0000013A 84                              	DB	-124
   557 0000013B 00                              	DB	0
   558 0000013C 84                              	DB	-124
   559 0000013D 00                              	DB	0
   560 0000013E 84                              	DB	-124
   561 0000013F 84                              	DB	-124
   562 00000140 84                              	DB	-124
   563 00000141 84                              	DB	-124
   564 00000142 84                              	DB	-124
   565                                          [SECTION .text]
   566 00000454                                 	GLOBAL	_init_palette
   567 00000454                                 _init_palette:
   568 00000454 55                              	PUSH	EBP
   569 00000455 89 E5                           	MOV	EBP,ESP
   570 00000457 68 [00000113]                   	PUSH	_table_rgb.1
   571 0000045C 6A 0F                           	PUSH	15
   572 0000045E 6A 00                           	PUSH	0
   573 00000460 E8 00000002                     	CALL	_set_palette
   574 00000465 C9                              	LEAVE
   575 00000466 C3                              	RET
   576 00000467                                 	GLOBAL	_set_palette
   577 00000467                                 _set_palette:
   578 00000467 55                              	PUSH	EBP
   579 00000468 89 E5                           	MOV	EBP,ESP
   580 0000046A 57                              	PUSH	EDI
   581 0000046B 56                              	PUSH	ESI
   582 0000046C 53                              	PUSH	EBX
   583 0000046D 51                              	PUSH	ECX
   584 0000046E 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   585 00000471 8B 7D 0C                        	MOV	EDI,DWORD [12+EBP]
   586 00000474 8B 75 10                        	MOV	ESI,DWORD [16+EBP]
   587 00000477 E8 [00000000]                   	CALL	_io_load_eflags
   588 0000047C 89 45 F0                        	MOV	DWORD [-16+EBP],EAX
   589 0000047F E8 [00000000]                   	CALL	_io_cli
   590 00000484 53                              	PUSH	EBX
   591 00000485 68 000003C8                     	PUSH	968
   592 0000048A E8 [00000000]                   	CALL	_io_out8
   593 0000048F 39 FB                           	CMP	EBX,EDI
   594 00000491 58                              	POP	EAX
   595 00000492 5A                              	POP	EDX
   596 00000493 7E 12                           	JLE	L73
   597 00000495                                 L75:
   598 00000495 8B 45 F0                        	MOV	EAX,DWORD [-16+EBP]
   599 00000498 89 45 08                        	MOV	DWORD [8+EBP],EAX
   600 0000049B 8D 65 F4                        	LEA	ESP,DWORD [-12+EBP]
   601 0000049E 5B                              	POP	EBX
   602 0000049F 5E                              	POP	ESI
   603 000004A0 5F                              	POP	EDI
   604 000004A1 5D                              	POP	EBP
   605 000004A2 E9 [00000000]                   	JMP	_io_store_eflags
   606 000004A7                                 L73:
   607 000004A7 8A 06                           	MOV	AL,BYTE [ESI]
   608 000004A9 43                              	INC	EBX
   609 000004AA C0 E8 02                        	SHR	AL,2
   610 000004AD 0F B6 C0                        	MOVZX	EAX,AL
   611 000004B0 50                              	PUSH	EAX
   612 000004B1 68 000003C9                     	PUSH	969
   613 000004B6 E8 [00000000]                   	CALL	_io_out8
   614 000004BB 8A 46 01                        	MOV	AL,BYTE [1+ESI]
   615 000004BE C0 E8 02                        	SHR	AL,2
   616 000004C1 0F B6 C0                        	MOVZX	EAX,AL
   617 000004C4 50                              	PUSH	EAX
   618 000004C5 68 000003C9                     	PUSH	969
   619 000004CA E8 [00000000]                   	CALL	_io_out8
   620 000004CF 8A 46 02                        	MOV	AL,BYTE [2+ESI]
   621 000004D2 C0 E8 02                        	SHR	AL,2
   622 000004D5 83 C6 03                        	ADD	ESI,3
   623 000004D8 0F B6 C0                        	MOVZX	EAX,AL
   624 000004DB 50                              	PUSH	EAX
   625 000004DC 68 000003C9                     	PUSH	969
   626 000004E1 E8 [00000000]                   	CALL	_io_out8
   627 000004E6 83 C4 18                        	ADD	ESP,24
   628 000004E9 39 FB                           	CMP	EBX,EDI
   629 000004EB 7E BA                           	JLE	L73
   630 000004ED EB A6                           	JMP	L75
   631 000004EF                                 	GLOBAL	_boxfill8
   632 000004EF                                 _boxfill8:
   633 000004EF 55                              	PUSH	EBP
   634 000004F0 89 E5                           	MOV	EBP,ESP
   635 000004F2 57                              	PUSH	EDI
   636 000004F3 56                              	PUSH	ESI
   637 000004F4 53                              	PUSH	EBX
   638 000004F5 57                              	PUSH	EDI
   639 000004F6 57                              	PUSH	EDI
   640 000004F7 8A 45 10                        	MOV	AL,BYTE [16+EBP]
   641 000004FA 8B 4D 18                        	MOV	ECX,DWORD [24+EBP]
   642 000004FD 8B 7D 1C                        	MOV	EDI,DWORD [28+EBP]
   643 00000500 88 45 F3                        	MOV	BYTE [-13+EBP],AL
   644 00000503 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   645 00000506 7F 31                           	JG	L88
   646 00000508 8B 5D 0C                        	MOV	EBX,DWORD [12+EBP]
   647 0000050B 0F AF D9                        	IMUL	EBX,ECX
   648 0000050E                                 L86:
   649 0000050E 8B 55 14                        	MOV	EDX,DWORD [20+EBP]
   650 00000511 39 FA                           	CMP	EDX,EDI
   651 00000513 7F 1B                           	JG	L90
   652 00000515 8B 75 08                        	MOV	ESI,DWORD [8+EBP]
   653 00000518 01 DE                           	ADD	ESI,EBX
   654 0000051A 01 D6                           	ADD	ESI,EDX
   655 0000051C 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   656 0000051F                                 L85:
   657 0000051F 8B 75 EC                        	MOV	ESI,DWORD [-20+EBP]
   658 00000522 8A 45 F3                        	MOV	AL,BYTE [-13+EBP]
   659 00000525 42                              	INC	EDX
   660 00000526 88 06                           	MOV	BYTE [ESI],AL
   661 00000528 46                              	INC	ESI
   662 00000529 89 75 EC                        	MOV	DWORD [-20+EBP],ESI
   663 0000052C 39 FA                           	CMP	EDX,EDI
   664 0000052E 7E EF                           	JLE	L85
   665 00000530                                 L90:
   666 00000530 41                              	INC	ECX
   667 00000531 03 5D 0C                        	ADD	EBX,DWORD [12+EBP]
   668 00000534 3B 4D 20                        	CMP	ECX,DWORD [32+EBP]
   669 00000537 7E D5                           	JLE	L86
   670 00000539                                 L88:
   671 00000539 5B                              	POP	EBX
   672 0000053A 5E                              	POP	ESI
   673 0000053B 5B                              	POP	EBX
   674 0000053C 5E                              	POP	ESI
   675 0000053D 5F                              	POP	EDI
   676 0000053E 5D                              	POP	EBP
   677 0000053F C3                              	RET
   678 00000540                                 	GLOBAL	_init_gdtidt
   679 00000540                                 _init_gdtidt:
   680 00000540 55                              	PUSH	EBP
   681 00000541 89 E5                           	MOV	EBP,ESP
   682 00000543 56                              	PUSH	ESI
   683 00000544 53                              	PUSH	EBX
   684 00000545 BE 00270000                     	MOV	ESI,2555904
   685 0000054A BB 00001FFF                     	MOV	EBX,8191
   686 0000054F                                 L96:
   687 0000054F 6A 00                           	PUSH	0
   688 00000551 6A 00                           	PUSH	0
   689 00000553 6A 00                           	PUSH	0
   690 00000555 56                              	PUSH	ESI
   691 00000556 83 C6 08                        	ADD	ESI,8
   692 00000559 E8 0000007B                     	CALL	_set_segmdesc
   693 0000055E 83 C4 10                        	ADD	ESP,16
   694 00000561 4B                              	DEC	EBX
   695 00000562 79 EB                           	JNS	L96
   696 00000564 68 00004092                     	PUSH	16530
   697 00000569 BE 0026F800                     	MOV	ESI,2553856
   698 0000056E 6A 00                           	PUSH	0
   699 00000570 BB 000000FF                     	MOV	EBX,255
   700 00000575 6A FF                           	PUSH	-1
   701 00000577 68 00270008                     	PUSH	2555912
   702 0000057C E8 00000058                     	CALL	_set_segmdesc
   703 00000581 68 0000409A                     	PUSH	16538
   704 00000586 68 00280000                     	PUSH	2621440
   705 0000058B 68 0007FFFF                     	PUSH	524287
   706 00000590 68 00270010                     	PUSH	2555920
   707 00000595 E8 0000003F                     	CALL	_set_segmdesc
   708 0000059A 83 C4 20                        	ADD	ESP,32
   709 0000059D 68 00270000                     	PUSH	2555904
   710 000005A2 68 0000FFFF                     	PUSH	65535
   711 000005A7 E8 [00000000]                   	CALL	_load_gdtr
   712 000005AC 58                              	POP	EAX
   713 000005AD 5A                              	POP	EDX
   714 000005AE                                 L101:
   715 000005AE 6A 00                           	PUSH	0
   716 000005B0 6A 00                           	PUSH	0
   717 000005B2 6A 00                           	PUSH	0
   718 000005B4 56                              	PUSH	ESI
   719 000005B5 83 C6 08                        	ADD	ESI,8
   720 000005B8 E8 00000066                     	CALL	_set_gatedesc
   721 000005BD 83 C4 10                        	ADD	ESP,16
   722 000005C0 4B                              	DEC	EBX
   723 000005C1 79 EB                           	JNS	L101
   724 000005C3 68 0026F800                     	PUSH	2553856
   725 000005C8 68 000007FF                     	PUSH	2047
   726 000005CD E8 [00000000]                   	CALL	_load_idtr
   727 000005D2 8D 65 F8                        	LEA	ESP,DWORD [-8+EBP]
   728 000005D5 5B                              	POP	EBX
   729 000005D6 5E                              	POP	ESI
   730 000005D7 5D                              	POP	EBP
   731 000005D8 C3                              	RET
   732 000005D9                                 	GLOBAL	_set_segmdesc
   733 000005D9                                 _set_segmdesc:
   734 000005D9 55                              	PUSH	EBP
   735 000005DA 89 E5                           	MOV	EBP,ESP
   736 000005DC 53                              	PUSH	EBX
   737 000005DD 8B 55 0C                        	MOV	EDX,DWORD [12+EBP]
   738 000005E0 8B 4D 10                        	MOV	ECX,DWORD [16+EBP]
   739 000005E3 8B 5D 08                        	MOV	EBX,DWORD [8+EBP]
   740 000005E6 8B 45 14                        	MOV	EAX,DWORD [20+EBP]
   741 000005E9 81 FA 000FFFFF                  	CMP	EDX,1048575
   742 000005EF 76 08                           	JBE	L107
   743 000005F1 C1 EA 0C                        	SHR	EDX,12
   744 000005F4 0D 00008000                     	OR	EAX,32768
   745 000005F9                                 L107:
   746 000005F9 66 89 13                        	MOV	WORD [EBX],DX
   747 000005FC 88 43 05                        	MOV	BYTE [5+EBX],AL
   748 000005FF C1 EA 10                        	SHR	EDX,16
   749 00000602 C1 F8 08                        	SAR	EAX,8
   750 00000605 83 E2 0F                        	AND	EDX,15
   751 00000608 66 89 4B 02                     	MOV	WORD [2+EBX],CX
   752 0000060C 83 E0 F0                        	AND	EAX,-16
   753 0000060F C1 F9 10                        	SAR	ECX,16
   754 00000612 09 C2                           	OR	EDX,EAX
   755 00000614 88 4B 04                        	MOV	BYTE [4+EBX],CL
   756 00000617 88 53 06                        	MOV	BYTE [6+EBX],DL
   757 0000061A C1 F9 08                        	SAR	ECX,8
   758 0000061D 88 4B 07                        	MOV	BYTE [7+EBX],CL
   759 00000620 5B                              	POP	EBX
   760 00000621 5D                              	POP	EBP
   761 00000622 C3                              	RET
   762 00000623                                 	GLOBAL	_set_gatedesc
   763 00000623                                 _set_gatedesc:
   764 00000623 55                              	PUSH	EBP
   765 00000624 89 E5                           	MOV	EBP,ESP
   766 00000626 53                              	PUSH	EBX
   767 00000627 8B 55 08                        	MOV	EDX,DWORD [8+EBP]
   768 0000062A 8B 45 10                        	MOV	EAX,DWORD [16+EBP]
   769 0000062D 8B 5D 14                        	MOV	EBX,DWORD [20+EBP]
   770 00000630 8B 4D 0C                        	MOV	ECX,DWORD [12+EBP]
   771 00000633 66 89 42 02                     	MOV	WORD [2+EDX],AX
   772 00000637 88 5A 05                        	MOV	BYTE [5+EDX],BL
   773 0000063A 66 89 0A                        	MOV	WORD [EDX],CX
   774 0000063D 89 D8                           	MOV	EAX,EBX
   775 0000063F C1 F8 08                        	SAR	EAX,8
   776 00000642 C1 F9 10                        	SAR	ECX,16
   777 00000645 88 42 04                        	MOV	BYTE [4+EDX],AL
   778 00000648 66 89 4A 06                     	MOV	WORD [6+EDX],CX
   779 0000064C 5B                              	POP	EBX
   780 0000064D 5D                              	POP	EBP
   781 0000064E C3                              	RET
